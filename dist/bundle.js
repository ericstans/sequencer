(()=>{var n=[523.25,493.88,440,392,349.23,329.63,293.66,261.63],e=Array.from({length:8},function(){return Array(8).fill(!1)}),t=0,o=null,c=null,r=document.getElementById("sequencer"),a=document.getElementById("bpm"),i=document.getElementById("start"),l=document.getElementById("stop");function u(){r.innerHTML="";for(var n=function(n){for(var o=function(o){var c=document.createElement("div");c.className="cell"+(e[n][o]?" on":"")+(o===t?" active":""),c.dataset.row=n,c.dataset.col=o,c.onclick=function(){e[n][o]=!e[n][o],u()},r.appendChild(c)},c=0;c<8;c++)o(c)},o=0;o<8;o++)n(o)}function d(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.18;c||(c=new(window.AudioContext||window.webkitAudioContext));var t=c.createOscillator(),o=c.createGain();t.type="sine",t.frequency.value=n,o.gain.value=.18,t.connect(o).connect(c.destination),t.start(),t.stop(c.currentTime+e),t.onended=function(){return o.disconnect()}}function f(){for(var o=0;o<8;o++)e[o][t]&&d(n[o]);u(),t=(t+1)%8}function v(){if(!o){var n=60/(parseInt(a.value,10)||120)/2*1e3;t=0,u(),o=setInterval(f,n)}}function s(){clearInterval(o),o=null,t=-1,u()}i.onclick=v,l.onclick=s,a.onchange=function(){o&&(s(),v())},u()})();